<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>圣人的追随者们</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <nav class="navbar">
        <ul class="navbar-list">
            <li class="navbar-item"><a href="index.html">推开星芒屋的大门</a></li>
            <li><a href="about.html" class="nav-link">关于星芒屋</a></li>
            <li><a href="followers.html" class="nav-link active">圣人的追随者们</a></li>
            <li><a href="memories.html" class="nav-link">星芒屋的珍贵回忆</a></li>
            <li><a href="contact.html" class="nav-link">联系我们</a></li>
        </ul>
    </nav>
    <div class="followers-bg-img-wrap" style="position:relative;width:100vw;overflow:hidden;min-height:100vh;">
      <img src="followers-promo.webp" class="followers-bg-img" alt="圣人的追随者们背景图" style="display:block;width:100vw;height:auto;min-height:100vh;object-fit:cover;">

      <!-- 所有内容叠加在背景图片上 -->
      <div class="followers-overlay-content">
        <!-- 文字在上方 -->
        <div class="followers-overlay-text">
          <div class="followers-overlay-title">你好啊！放松地聊聊天吧！小游戏也没问题！</div>
          <div class="followers-overlay-subtitle">★轻无RP店员★</div>
        </div>

        <!-- 3x3图片网格布局在文字下方 -->
        <div class="followers-grid-container">
          <div class="followers-grid-item">
            <img src="light-staff1.webp" alt="类樱弥弥" class="followers-grid-img" data-staff-type="light" data-staff-index="1">
          </div>
          <div class="followers-grid-item">
            <img src="light-staff2.webp" alt="面包猫大王" class="followers-grid-img" data-staff-type="light" data-staff-index="2">
          </div>
          <div class="followers-grid-item">
            <img src="light-staff3.webp" alt="奥德修斯" class="followers-grid-img" data-staff-type="light" data-staff-index="3">
          </div>
          <div class="followers-grid-item">
            <img src="light-staff4.webp" alt="Sakei" class="followers-grid-img" data-staff-type="light" data-staff-index="4">
          </div>
          <div class="followers-grid-item">
            <img src="light-staff5.webp" alt="弗洛拉" class="followers-grid-img" data-staff-type="light" data-staff-index="5">
          </div>
          <div class="followers-grid-item">
            <img src="light-staff6.webp" alt="艾利萨" class="followers-grid-img" data-staff-type="light" data-staff-index="6">
          </div>
          <div class="followers-grid-item">
            <img src="light-staff7.webp" alt="Vorago" class="followers-grid-img" data-staff-type="light" data-staff-index="7">
          </div>
          <div class="followers-grid-item">
            <img src="light-staff8.webp" alt="丹莱" class="followers-grid-img" data-staff-type="light" data-staff-index="8">
          </div>
          <div class="followers-grid-item">
            <img src="light-staff9.webp" alt="吃火锅唱着歌" class="followers-grid-img" data-staff-type="light" data-staff-index="9">
          </div>
        </div>
      </div>

      <div class="hero-curve" style="position:absolute;left:0;bottom:0;width:100vw;height:90px;pointer-events:none;z-index:2;overflow:hidden;">
        <svg viewBox="0 0 1920 180" width="100%" height="100%" preserveAspectRatio="none" style="display:block;position:absolute;bottom:0;left:0;">
          <path d="M0,0 Q960,180 1920,0 L1920,180 L0,180 Z" fill="#f8efdd"/>
        </svg>
      </div>
    </div>

    <!-- 宣传图下方的中重RP店员区域 -->
    <div class="heavy-rp-section">
      <div class="heavy-rp-text">
        <div class="heavy-rp-title">欢迎来到星芒屋！在交流中和大家熟络起来吧！</div>
        <div class="heavy-rp-subtitle">★中重RP店员★</div>
      </div>

      <!-- 4x2图片网格布局 -->
      <div class="heavy-rp-grid-container">
        <div class="heavy-rp-grid-item">
          <img src="heavy-staff1.webp" alt="星芒屋店长" class="heavy-rp-grid-img" data-staff-type="heavy" data-staff-index="1">
        </div>
        <div class="heavy-rp-grid-item">
          <img src="heavy-staff2.webp" alt="布瑞德" class="heavy-rp-grid-img" data-staff-type="heavy" data-staff-index="2">
        </div>
        <div class="heavy-rp-grid-item">
          <img src="heavy-staff3.webp" alt="艾利萨" class="heavy-rp-grid-img" data-staff-type="heavy" data-staff-index="3">
        </div>
        <div class="heavy-rp-grid-item">
          <img src="heavy-staff4.webp" alt="弗洛拉" class="heavy-rp-grid-img" data-staff-type="heavy" data-staff-index="4">
        </div>
        <div class="heavy-rp-grid-item">
          <img src="heavy-staff5.webp" alt="阿多尼斯" class="heavy-rp-grid-img" data-staff-type="heavy" data-staff-index="5">
        </div>
        <div class="heavy-rp-grid-item">
          <img src="heavy-staff6.webp" alt="阿瑟琪" class="heavy-rp-grid-img" data-staff-type="heavy" data-staff-index="6">
        </div>
        <div class="heavy-rp-grid-item">
          <img src="heavy-staff7.webp" alt="奥尔蒂斯" class="heavy-rp-grid-img" data-staff-type="heavy" data-staff-index="7">
        </div>
        <div class="heavy-rp-grid-item">
          <img src="heavy-staff8.webp" alt="达尔莱特" class="heavy-rp-grid-img" data-staff-type="heavy" data-staff-index="8">
        </div>
      </div>
    </div>

    <!-- 店员照片放大模态框 -->
    <div id="staff-modal" class="staff-modal">
      <span class="staff-modal-close">&times;</span>
      <img id="staff-modal-img" src="" alt="店员照片">
      <div class="staff-modal-info" id="staff-modal-info"></div>
      <div class="staff-modal-counter" id="staff-modal-counter"></div>
      <button class="staff-modal-btn staff-modal-prev" id="staff-prev-btn">&#60;</button>
      <button class="staff-modal-btn staff-modal-next" id="staff-next-btn">&#62;</button>
      <div class="staff-modal-mask"></div>
    </div>
</body>

<script>
// 店员照片数据
const staffData = {
  light: {
    count: 9,
    prefix: 'light-staff',
    type: '轻无RP店员'
  },
  heavy: {
    count: 8,
    prefix: 'heavy-staff',
    type: '中重RP店员'
  }
};

// 模态框元素
const modal = document.getElementById('staff-modal');
const modalImg = document.getElementById('staff-modal-img');
const modalInfo = document.getElementById('staff-modal-info');
const modalCounter = document.getElementById('staff-modal-counter');
const prevBtn = document.getElementById('staff-prev-btn');
const nextBtn = document.getElementById('staff-next-btn');
const mask = document.querySelector('.staff-modal-mask');
const closeBtn = document.querySelector('.staff-modal-close');

let currentStaffType = '';
let currentStaffIndex = 1;

// 显示模态框
function showStaffModal(staffType, staffIndex) {
  currentStaffType = staffType;
  currentStaffIndex = parseInt(staffIndex);

  const data = staffData[staffType];
  const imgSrc = `${data.prefix}${currentStaffIndex}.webp`;

  // 获取对应图片的alt属性作为介绍文字
  const imgElement = document.querySelector(`img[data-staff-type="${staffType}"][data-staff-index="${currentStaffIndex}"]`);
  const altText = imgElement ? imgElement.alt : `${data.type}${currentStaffIndex}`;

  modalImg.src = imgSrc;
  modalImg.alt = altText;
  modalInfo.textContent = altText;
  modalCounter.textContent = `${currentStaffIndex} / ${data.count}`;

  modal.classList.add('show');
}

// 切换到上一张
function showPrevStaff() {
  const data = staffData[currentStaffType];
  currentStaffIndex = currentStaffIndex > 1 ? currentStaffIndex - 1 : data.count;
  showStaffModal(currentStaffType, currentStaffIndex);
}

// 切换到下一张
function showNextStaff() {
  const data = staffData[currentStaffType];
  currentStaffIndex = currentStaffIndex < data.count ? currentStaffIndex + 1 : 1;
  showStaffModal(currentStaffType, currentStaffIndex);
}

// 关闭模态框
function closeStaffModal() {
  modal.classList.remove('show');
}

// 为所有店员图片添加点击事件
document.querySelectorAll('.followers-grid-img, .heavy-rp-grid-img').forEach(img => {
  img.addEventListener('click', function() {
    const staffType = this.getAttribute('data-staff-type');
    const staffIndex = this.getAttribute('data-staff-index');
    showStaffModal(staffType, staffIndex);
  });
});

// 事件监听器
prevBtn.addEventListener('click', e => {
  e.stopPropagation();
  showPrevStaff();
});

nextBtn.addEventListener('click', e => {
  e.stopPropagation();
  showNextStaff();
});

mask.addEventListener('click', closeStaffModal);
closeBtn.addEventListener('click', closeStaffModal);

// 键盘事件
document.addEventListener('keydown', e => {
  if (!modal.classList.contains('show')) return;

  if (e.key === 'Escape') closeStaffModal();
  if (e.key === 'ArrowLeft') showPrevStaff();
  if (e.key === 'ArrowRight') showNextStaff();
});
</script>
</html>